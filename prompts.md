# MitmProxy Web管理界面生成Prompt

## 项目需求描述

请生成一个完整的Web应用程序，用于管理和控制本地的mitmproxy代理服务。

## 功能要求

### 1. MitmProxy控制功能
- **启动/停止控制**：提供按钮来启动和停止本地mitmproxy服务
- **状态显示**：实时显示mitmproxy的运行状态（运行中/已停止）
- **代理信息展示**：当mitmproxy启动后，清晰显示代理的IP地址和端口号，ip地址使用socket获取，端口号固定是8080

### 2. API配置管理
- **API列表展示**：以表格或卡片形式展示所有已配置的API
- **添加API**：支持添加新的API配置，包括：
  - API URL/路径
  - HTTP方法（GET/POST/PUT/DELETE等）
- **编辑API**：支持修改现有API配置
- **删除API**：支持删除不需要的API配置
- **批量操作**：支持批量启用/禁用API配置

### 3. Response数据管理
- **响应数据编辑**：为每个API配置对应的mock响应数据
- **JSON编辑器**：提供语法高亮的JSON编辑器
- **数据验证**：验证JSON格式的正确性
- **响应头配置**：支持自定义响应头信息
- **状态码设置**：支持设置HTTP状态码

### 4. 数据持久化
- **本地存储**：所有API配置和响应数据保存到本地文件
- **数据导入**：支持从本地文件导入配置数据
- **数据导出**：支持将配置导出为JSON文件
- **自动保存**：配置修改后自动保存到本地

### 5. 用户界面要求
- **现代化UI**：使用现代化的UI框架（如Bootstrap、Tailwind CSS等）
- **操作反馈**：提供清晰的操作成功/失败提示
- **搜索过滤**：支持按API路径、方法等条件搜索过滤

## 技术栈建议

### 后端技术
- **服务器**：FastAPI
- **进程管理**：用于控制mitmproxy进程的启动和停止
- **文件操作**：用于读写本地配置文件

### 数据格式
```json
{
  "apis": [
    {
      "id": "unique_id",  // uuid
      "name": "API名称",  // 用户可编辑
      "url": "/api/example", // 用户可编辑
      "method": "GET",   // 枚举
      "enabled": true,
      "response": {
        "status": 200,
        "headers": {
          "Content-Type": "application/json"
        },
        "body": {
          "errno": 0,
          "error": "",
          "data": "mock data"
        }
      }
    }
  ]
}
```
## 页面布局建议
- **顶部导航栏**：显示应用标题和主要功能按钮
- **代理状态面板**：显示mitmproxy状态和连接信息
- **API管理区域**：API列表和操作按钮
- **配置编辑面板**：用于编辑API和响应数据
- **底部状态栏**：显示操作提示和系统状态
## 特殊要求
- 确保代码结构清晰，易于维护
- 提供详细的注释说明
- 包含错误处理和异常情况处理
- 支持配置文件的备份和恢复功能
- 提供使用说明和帮助文档

- 请根据以上需求生成完整的Web应用程序代码，包括前端界面、后端API和必要的配置文件。

